<!--
* ADR Reporting
* Copyright (C) 2017 Divay Prakash
* GNU Affero General Public License 3.0 (https://github.com/adrrep/adr/blob/master/LICENSE)
-->
<!DOCTYPE html>
<html lang="en">
<html>
  <head>
    <!-- Meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="title" content="ADR Reporting Form">
    <meta name="description" content="A portal for healthcare professionals to report Adverse Drug Reactions in order to facilitate better services">
    <meta name="author" content="Divay Prakash">
    <!-- Title -->
    <title>ADR Reporting</title>
    <!-- Favicon -->
    <link rel="shortcut icon" href="./images/favicon.png">
    <!-- Material icons -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <!-- Materialize CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.99.0/css/materialize.min.css" integrity="sha256-oiVjjd5Fuot9f/fgwH5IBBjsOA7TDdcfSK5I2EZ0zMw=" crossorigin="anonymous">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="./css/main.css">
  </head>
  <body>
    <header>
      <nav class="brand-red darken-1" role="navigation">
        <!--<img class="responsive-img left" src="./images/logo.png">-->
        <div class="nav-wrapper container">
          <div class="brand-logo">ADR Reporting</div>
          <a href="#" data-activates="nav-mobile" class="button-collapse"><i class="material-icons">menu</i></a>
          <ul class="right hide-on-med-and-down">
            <li class="active"><a href="#"><i class="material-icons left">home</i>Home</a></li>
            <li><a href="./about.html"><i class="material-icons left">info</i>About</a></li>
            <li><a href="./faq.html"><i class="material-icons left">help</i>FAQ</a></li>
            <li><a href="./support.html"><i class="material-icons left">build</i>Support</a></li>
          </ul>
          <ul id="nav-mobile" class="side-nav">
            <li class="active"><a href="#"><i class="material-icons left">home</i>Home</a></li>
            <li><a href="./about.html"><i class="material-icons left">info</i>About</a></li>
            <li><a href="./faq.html"><i class="material-icons left">help</i>FAQ</a></li>
            <li><a href="./support.html"><i class="material-icons left">build</i>Support</a></li>
          </ul>
        </div>
      </nav>
    </header>

    <div class="fixed-action-btn menu-fab">
      <a class="waves-effect waves-light btn-floating btn-large orange">
        <i class="large material-icons">menu</i>
      </a>
      <ul>
        <li>
          <a href="./support.html" class="btn-floating red"><i class="material-icons">build</i></a>
          <a href="./support.html" class="btn-floating fab-tip">Support</a>
        </li>
        <li>
          <a href="./faq.html" class="btn-floating yellow darken-1"><i class="material-icons">help</i></a>
          <a href="./faq.html" class="btn-floating fab-tip">FAQ</a>
        </li>
        <li>
          <a href="./about.html" class="btn-floating green"><i class="material-icons">info</i></a>
          <a href="./about.html" class="btn-floating fab-tip">About</a>
        </li>
        <li>
          <a href="#" class="btn-floating blue"><i class="material-icons">home</i></a>
          <a href="#" class="btn-floating fab-tip">Home</a>
        </li>
      </ul>
    </div>

    <div class="fixed-action-btn hide-on-small-only">
      <a id="help-fab" class="waves-effect btn-floating btn-large deep-orange">
        <i class="large material-icons">help</i>
      </a>
    </div>

    <div id="help-tap-target" class="tap-target purple darken-4" data-activates="help-fab">
      <div class="tap-target-content white-text">
        <h5>Need any help?</h5>
        <p>Check out the <a href="./faq.html">FAQ</a> section or contact <a href="./support.html">support</a></p>
      </div>
    </div>

    <main>
      <div class="container">
        <div class="card" id="warning" style="display: none;">
          <div class="card-content">
            <span class="card-title"><h4>WARNING !</h4></span>
            <p>Kindly note that your current browser is incompatible with this system. Please upgrade to a supported browser to continue. You can check the list of supported browsers below. This list indicates the <b>minimum</b> version of the respective browser required, all versions higher are supported. We apologise for the inconvenience.</p>
            <br>
            <p class="compatibility">
              <img src="./images/chrome.png">Chrome 49
              <span class="breakline"><br></span>
              <img src="./images/safari.png">Safari 10.1
              <span class="breakline"><br></span>
              <img src="./images/firefox.png">Firefox 55
              <span class="breakline"><br></span>
              <img src="./images/opera.png">Opera 47
              <span class="breakline"><br></span>
              <img src="./images/edge.png">Edge 15
            </p>
          </div>
        </div>
        <div class="card" id="success" style="display: none;">
          <div class="card-content">
            <span class="card-title"><h4>SUCCESS !</h4></span>
            <p>You have successfully filled the ADR reporting form. Click on the download button to obtain the PDF file with all the details of the same.</p>
            <br>
            <button class="waves-effect waves-light btn" type="button" onclick="render()"><i class="material-icons right">file_download</i>Download</button>
          </div>
        </div>
        <div class="card" id="main-div">
          <div class="card-tabs">
            <ul class="tabs tabs-fixed-width" id="tabs-list">
              <li id="patient-tab" class="tab blue"><a class="indigo-text text-darken-4" href="#patient">Patient</a></li>
              <li id="reaction-tab" class="tab blue disabled"><a class="indigo-text text-darken-4" href="#reaction">Reaction</a></li>
              <li id="medication-tab" class="tab blue disabled"><a class="indigo-text text-darken-4" href="#medication">Medication</a></li>
              <li id="outcome-tab" class="tab blue disabled"><a class="indigo-text text-darken-4" href="#outcome">Outcome</a></li>
              <li id="reporter-tab" class="tab blue disabled"><a class="indigo-text text-darken-4" href="#reporter">Reporter</a></li>
              <div class="indicator indigo darken-4" style="z-index:1"></div>
            </ul>
          </div>
          <div class="card-content">
            <div id="patient" class="row">
              <form class="col l10 offset-l1 s12">
                <p><i>All fields marked with an asterisk (*) are required.</i></p>
                <br>
                <br>
                <div class="input-field">
                  <input id="initials" type="text" placeholder="Enter first letter of each word of patient's full name" data-length="16" maxlength="16">
                  <label for="initials">Patient Initials *</label>
                </div>
                <br>
                <div class="field-title">Gender *</div>
                <fieldset id="gender">
                  <p>
                    <input name="gender" type="radio" id="male" value="male">
                    <label for="male">Male</label>
                  </p>
                  <p>
                    <input name="gender" type="radio" id="female" value="female">
                    <label for="female">Female</label>
                  </p>
                </fieldset>
                <br>
                <br>
                <div class="input-field">
                  <input id="age" type="number" data-length="5" maxlength="5" min="0" max="150" step="any" placeholder="In Years">
                  <label for="age">Age (0-150 years) *</label>
                </div>
                <br>
                <div class="field-title">Weight (0-300 Kg) *</div>
                <div class="row range-field-wrapper">
                  <div class="col s10">
                    <p class="range-field">
                      <input type="range" name="weightRange" min="0" max="300" value="0" oninput="this.form.weightInput.value=this.value">
                    </p>
                  </div>
                  <div class="col s2">
                    <input type="number" name="weightInput" id="weight" min="0" max="300" value="0" oninput="this.form.weightRange.value=this.value">
                  </div>
                </div>
                <br>
                <a class="waves-effect waves-light btn" id="patient-submit" onclick="formSubmit(this.id)"><i class="material-icons right">send</i>Submit</a>
                <br>
                <br>
                <div class="card-panel red white-text">
                  <h5>Important!</h5>
                  Please note that you will not be able to edit the entered information hereafter. Kindly review all data carefully before clicking 'Submit'.
                </div>
              </form>
            </div>
            <div id="reaction" class="row">
              <form class="col l10 offset-l1 s12">
                <p><i>All fields marked with an asterisk (*) are required.</i></p>
                <br>
                <br>
                <div class="field-title">Describe reaction or problem in short, concise phrases. To add phrases, just enter some text and press enter. *</div>
                <div class="chips" id="reaction-description"></div>
                <br>
                <div class="field-title">Date of reaction start *</div>
                <input type="date" class="datepicker" id="date-start">
                <br>
                <br>
                <div class="field-title">Date of reaction end *</div>
                <input type="date" class="datepicker" id="date-end">
                <br>
                <br>
                <a class="waves-effect waves-light btn" id="reaction-submit" onclick="formSubmit(this.id)"><i class="material-icons right">send</i>Submit</a>
                <br>
                <br>
                <div class="card-panel red white-text">
                  <h5>Important!</h5>
                  Please note that you will not be able to edit the entered information hereafter. Kindly review all data carefully before clicking 'Submit'.
                </div>
              </form>
            </div>
            <div id="medication" class="row">
              <br>
              <br>
              <div class="col l10 offset-l1 s12">
                <div class="card blue lighten-4">
                  <div class="card-content">
                    <span class="card-title">Add medication</span>
                    <p>Click the 'Add' button to add medications upto a maximum of 4.</p>
                  </div>
                  <div class="card-action">
                    <button id="medication-add-button" href="#medication-add" data-target="medication-add" class="waves-effect waves-light btn"><i class="material-icons right">add</i>Add</button>
                  </div>
                </div>
                <!--
                <div class="card blue lighten-4">
                  <div class="card-content">
                    <span class="card-title">Sample Medication Name</span>
                    <p>Sample Medication Details</p>
                  </div>
                  <div class="card-action">
                    <button class="waves-effect waves-light btn disabled"><i class="material-icons right">mode_edit</i>Edit</button>
                    <button class="waves-effect waves-light btn disabled"><i class="material-icons right">delete</i>Delete</button>
                  </div>
                </div>
                -->
                <div id="insert"></div>
                <a class="waves-effect waves-light btn" onclick="formSubmit('medication-submit')"><i class="material-icons right">send</i>Submit</a>
                <br>
                <br>
                <div class="card-panel red white-text">
                  <h5>Important!</h5>
                  Please note that you will not be able to edit the entered information hereafter. Kindly review all data carefully before clicking 'Submit'.
                </div>
              </div>
            </div>
            <div id="outcome" class="row">
              <form class="col l10 offset-l1 s12">
                <p><i>All fields marked with an asterisk (*) are required.</i></p>
                <br>
                <br><br>
                <span class="input-breakline"><br><br></span>
                <div class="input-field">
                  <textarea id="concomitant" class="materialize-textarea" data-length="546" maxlength="546" placeholder=""></textarea>
                  <label for="concomitant">Concomitant medical product including self medication and herbal remedies with therapy dates (exclude those used to treat reaction)</label>
                </div>
                <br>
                <div class="input-field">
                  <textarea id="test" class="materialize-textarea" data-length="294" maxlength="294" placeholder="Write a concise description of relevant tests conducted and attach PDF report of the same alongwith the filled form obtained from this system"></textarea>
                  <label for="test">Relevant tests / laboratory data with dates</label>
                </div>
                <br>
                <br>
                <span class="input-breakline"><br><br></span>
                <div class="input-field">
                  <textarea id="history" class="materialize-textarea" data-length="378" maxlength="378" placeholder="e.g. allergies, race, pregnancy, smoking, alcohol use, hepatic/ renal dysfunction etc"></textarea>
                  <label for="history">Other relevant history including pre-existing medical conditions</label>
                </div>
                <br>
                <div class="field-title">Seriousness of the reaction *</div>
                <p>
                  <input name="serious" type="radio" id="death" value="death">
                  <label for="death">Death</label>
                </p>
                <p>
                  <input name="serious" type="radio" id="life" value="life">
                  <label for="life">Life threatening</label>
                </p>
                <p>
                  <input name="serious" type="radio" id="hospital" value="hospital">
                  <label for="hospital">Hospitalization-initial or prolonged</label>
                </p>
                <p>
                  <input name="serious" type="radio" id="disability" value="disability">
                  <label for="disability">Disability</label>
                </p>
                <p>
                  <input name="serious" type="radio" id="congenital" value="congenital">
                  <label for="congenital">Congenitial anomaly</label>
                </p>
                <p>
                  <input name="serious" type="radio" id="intervention" value="intervention">
                  <label for="intervention">Required intervention to prevent permanent impairment/damage</label>
                </p>
                <p>
                  <input name="serious" type="radio" id="serious-other" value="other">
                  <label for="serious-other">Other (specify)</label>
                </p>
                <br>
                <div class="input-field">
                  <input disabled id="serious-spec" type="text" data-length="9" maxlength="9" placeholder="">
                  <label for="serious-spec">Specify seriousness of reaction</label>
                </div>
                <div id="date-death-label" class="field-title" style="color:rgba(0, 0, 0, 0.26);">Date of death</div>
                <input disabled id="date-death" type="date" class="datepicker">
                <br>
                <br>
                <br>
                <div class="field-title">Outcomes *</div>
                <p>
                  <input name="outcome" type="radio" id="fatal" value="fatal">
                  <label for="fatal">Fatal</label>
                </p>
                <p>
                  <input name="outcome" type="radio" id="recovering" value="recovering">
                  <label for="recovering">Recovering</label>
                </p>
                <p>
                  <input name="outcome" type="radio" id="unknown" value="unknown">
                  <label for="unknown">Unknown</label>
                </p>
                <p>
                  <input name="outcome" type="radio" id="continuing" value="continuing">
                  <label for="continuing">Continuing</label>
                </p>
                <p>
                  <input name="outcome" type="radio" id="recovered" value="recovered">
                  <label for="recovered">Recovered</label>
                </p>
                <p>
                  <input name="outcome" type="radio" id="outcome-other" value="other">
                  <label for="outcome-other">Other (specify)</label>
                </p>
                <br>
                <div class="input-field">
                  <input disabled id="outcome-spec" type="text" data-length="9" maxlength="9" placeholder="">
                  <label for="outcome-spec">Specify outcome of reaction</label>
                </div>
                <br>
                <a class="waves-effect waves-light btn" id="outcome-submit" onclick="formSubmit(this.id)"><i class="material-icons right">send</i>Submit</a>
                <br>
                <br>
                <div class="card-panel red white-text">
                  <h5>Important!</h5>
                  Please note that you will not be able to edit the entered information hereafter. Kindly review all data carefully before clicking 'Submit'.
                </div>
              </form>
            </div>
            <div id="reporter" class="row">
              <form class="col l10 offset-l1 s12">
                <p><i>All fields marked with an asterisk (*) are required.</i></p>
                <br>
                <br>
                <div class="input-field">
                  <input id="reporter-name" type="text" data-length="18" maxlength="18" placeholder="">
                  <label for="reporter-name">Name *</label>
                </div>
                <br>
                <div class="input-field">
                  <input id="address1" type="text" data-length="37" maxlength="37" placeholder="">
                  <label for="address1">Address Line 1 *</label>
                </div>
                <br>
                <div class="input-field">
                  <input id="address2" type="text" data-length="37" maxlength="37" placeholder="">
                  <label for="address2">Address Line 2</label>
                </div>
                <br>
                <div class="input-field">
                  <input id="pincode" type="number" min="100000" max="999999" placeholder="">
                  <label for="pincode">Pincode *</label>
                </div>
                <br>
                <div class="input-field">
                  <input id="email" type="email" data-length="44" maxlength="44" placeholder="">
                  <label for="email">E-mail *</label>
                </div>
                <br>
                <div class="input-field">
                  <input id="phone" type="tel" data-length="15" maxlength="15" placeholder="">
                  <label for="phone">Mobile/Telephone number with STD code *</label>
                </div>
                <br>
                <div class="input-field">
                  <input id="speciality" type="text" data-length="24" maxlength="24" placeholder="">
                  <label for="speciality">Speciality</label>
                </div>
                <br>
                <div class="input-field">
                  <input id="occupation" type="text" data-length="40" maxlength="40" placeholder="">
                  <label for="occupation">Occupation *</label>
                </div>
                <br>
                <div class="field-title">Date of this report</div>
                <!--<input type="date" class="datepicker" id="date-report" disabled>-->
                <input type="date" id="date-report" disabled>
                <br>
                <br>
                <a class="waves-effect waves-light btn" id="reporter-submit" onclick="formSubmit(this.id)"><i class="material-icons right">send</i>Submit</a>
                <br>
                <br>
                <div class="card-panel red white-text">
                  <h5>Important!</h5>
                  Please note that you will not be able to edit the entered information hereafter. Kindly review all data carefully before clicking 'Submit'.
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </main>

    <div id="medication-add" class="modal bottom-sheet">
      <div class="modal-content container">
        <div class="row">
          <form class="col l10 offset-l1 s12" id="medication-form">
            <h4>Add Medication</h4>
            <p>Enter the details below and click 'Add'</p>
            <p><i>All fields marked with an asterisk (*) are required.</i></p>
            <br>
            <div class="input-field">
              <input id="medication-name" placeholder="Brand and/or generic name" type="text" data-length="18" maxlength="18">
              <label for="medication-name">Medication Name *</label>
            </div>
            <br>
            <div class="input-field">
              <input id="manufacturer" placeholder="" type="text" data-length="12" maxlength="12">
              <label for="manufacturer">Manufacturer *</label>
            </div>
            <br>
            <div class="input-field">
              <input id="batch" placeholder="" type="text" data-length="12" maxlength="12">
              <label for="batch">Batch/Lot Number *</label>
            </div>
            <br>
            <div class="field-title">Expiry Date</div>
            <input id="expiry" placeholder="If known" type="date" class="datepicker-year">
            <br>
            <br>
            <div class="input-field">
              <input id="dose" placeholder="In mg" type="number" data-length="5" maxlength="5">
              <label for="dose">Dose *</label>
            </div>
            <br>
            <div class="field-title">Route Used *</div>
            <p>
              <input name="route" type="radio" id="po" value="p.o.">
              <label for="po">Per Oral</label>
            </p>
            <p>
              <input name="route" type="radio" id="iv" value="i.v.">
              <label for="iv">Intravenous</label>
            </p>
            <p>
              <input name="route" type="radio" id="im" value="i.m.">
              <label for="im">Intramuscular</label>
            </p>
            <p>
              <input name="route" type="radio" id="sc" value="s.c.">
              <label for="sc">Subcutaneous</label>
            </p>
            <p>
              <input name="route" type="radio" id="topical" value="topl.">
              <label for="topical">Topical</label>
            </p>
            <p>
              <input name="route" type="radio" id="other" value="other">
              <label for="other">Other</label>
            </p>
            <br>
            <div class="input-field">
              <input id="freq" type="text" data-length="14" maxlength="14" placeholder="Number of times dose administered in one day">
              <label for="freq">Frequency *</label>
            </div>
            <br>
            <div class="field-title">Therapy start date *</div>
            <input type="date" class="datepicker" id="therapy-start" placeholder="">
            <br>
            <br>
            <div class="field-title">Therapy end date *</div>
            <input type="date" class="datepicker" id="therapy-end" placeholder="">
            <br>
            <br>
            <div class="input-field">
              <input id="duration" type="text" data-length="20" placeholder="In days" disabled>
              <label for="duration">Duration</label>
            </div>
            <br>
            <div class="input-field">
              <input id="reason" type="text" data-length="30" maxlength="30" placeholder="Reason for use/prescribed for">
              <label for="reason">Reason for use *</label>
            </div>
            <br>
            <div class="field-title">Reaction abated after drug stopped or dose reduced *</div>
            <p>
              <input name="stop" type="radio" id="stop-yes" value="yes">
              <label for="stop-yes">Yes</label>
            </p>
            <p>
              <input name="stop" type="radio" id="stop-no" value="no">
              <label for="stop-no">No</label>
            </p>
            <p>
              <input name="stop" type="radio" id="stop-unknown" value="unknown">
              <label for="stop-unknown">Unknown</label>
            </p>
            <p>
              <input name="stop" type="radio" id="stop-na" value="na">
              <label for="stop-na">NA</label>
            </p>
            <br>
            <div class="input-field">
              <input disabled id="stop-reduced" type="number" data-length="5" maxlength="5" placeholder="">
              <label for="stop-reduced">Reduced dose</label>
            </div>
            <br>
            <div class="field-title" style="color: rgba(0, 0, 0, 0.26);">Reaction reappeared after reintroduction</div>
            <p>
              <input name="reintro" type="radio" id="reintro-yes" value="yes" disabled>
              <label for="reintro-yes">Yes</label>
            </p>
            <p>
              <input name="reintro" type="radio" id="reintro-no" value="no" disabled>
              <label for="reintro-no">No</label>
            </p>
            <p>
              <input name="reintro" type="radio" id="reintro-unknown" value="unknown" disabled>
              <label for="reintro-unknown">Unknown</label>
            </p>
            <p>
              <input name="reintro" type="radio" id="reintro-na" value="na" disabled>
              <label for="reintro-na">NA</label>
            </p>
            <br>
            <div class="input-field">
              <input disabled id="reintro-reduced" type="number" data-length="5" placeholder="" disabled>
              <label for="reintro-reduced">Reduced dose</label>
            </div>
            <br>
            <button class="waves-effect waves-light btn" type="button" onclick="medicationAdd()"><i class="material-icons right">add</i>Add</button>
            <br>
            <br>
            <div class="card-panel red white-text">
              <h5>Important!</h5>
              Please note that you will not be able to edit the entered information hereafter. Kindly review all data carefully before clicking 'Add'.
            </div>
          </form>
        </div>
      </div>
    </div>

    <footer class="page-footer brand-blue">
      <div class="container">
        <div class="row">
          <div class="col l6 s12">
            <h5 class="white-text">ADR Reporting</h5>
            <p class="grey-text text-lighten-4">A portal for healthcare professionals to report Adverse Drug Reactions in order to facilitate better services</p>
          </div>
          <div class="col l4 offset-l2 s12">
            <h5 class="white-text">Links</h5>
            <ul>
              <li><a class="grey-text text-lighten-3" href="#">Home</a></li>
              <li><a class="grey-text text-lighten-3" href="./about.html">About</a></li>
              <li><a class="grey-text text-lighten-3" href="./faq.html">FAQ</a></li>
              <li><a class="grey-text text-lighten-3" href="./support.html">Support</a></li>
            </ul>
          </div>
        </div>
      </div>
      <div class="footer-copyright">
        <div class="container">
          <a class="grey-text text-lighten-4 left waves-effect" href="https://divayprakash.github.io/">© 2017 Divay Prakash</a>
          <a class="grey-text text-lighten-4 right waves-effect" href="https://github.com/adrrep/adr/blob/master/LICENSE">Licensed under AGPL-3.0</a>
          <br>
          <a class="grey-text text-lighten-4 right waves-effect" href="https://github.com/adrrep/adr/">Source code on GitHub</a>
        </div>
      </div>
    </footer>

    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-2.1.1.min.js" integrity="sha256-h0cGsrExGgcZtSZ/fRz4AwV+Nn6Urh/3v3jFRQ0w9dQ=" crossorigin="anonymous"></script>
    <!-- Materialize JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.99.0/js/materialize.min.js" integrity="sha256-Ff9bGnIM3a8Yj4saIp6RH8xkb1rQZpHqoFw/6m08fgA=" crossorigin="anonymous"></script>
    <!-- Modernizr JS -->
    <script src="./js/modernizr-custom.min.js"></script>
    <!-- Compatibility testing JS -->
    <script defer src="./js/compat.js"></script>
    <!-- jsPDF -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.5/jspdf.min.js" integrity="sha256-YHd/E8OX5o5GcqyHHas3xH3i7aP8z8KmMrL3WLMJfIY=" crossorigin="anonymous"></script>
    <!-- Variables -->
    <script src="./js/var.js"></script>
    <!-- Custom JS -->
    <script src="./js/main.js"></script>
  </body>
</html>
